<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>WebGL World</title>

<style>
  body {
    margin: 0;
    padding:20px;
    overflow: auto;
    font-family: sans-serif;
  }

  #gameContainer {
    position: relative;
    background: black;
  }

  /* Default windowed mode */
  .windowed {
    width: 400px;
    height: 400px;
  }

  /* Fullscreen mode */
  .fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
  }

  /* WebGL fills container */
  #webgl {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* Minimap size in windowed mode */
  .windowed #minimap {
    width: 80px;
    height: 80px;
  }

  /* Minimap size in fullscreen mode */
  .fullscreen #minimap {
    width: 200px;
    height: 200px;
  }
</style>
</head>

<body onload="main()">

<div id="gameContainer" class="windowed">

  <canvas id="webgl"></canvas>

  <canvas id="minimap"
      style="
          position: absolute;
          top: 10px;
          right: 10px;
          border: 3px solid white;
          background: rgba(0,0,0,0.7);
          z-index: 10;">
  </canvas>

</div>


<p id="numdot">XXX</p>

<p>
  <button onclick="toggleFullscreen()">Toggle Fullscreen</button>
</p>

<p>
Camera Angle <input type="range" min="0" max="360" value="0" id="angleSlide">
</p>


<!-- WebGL libraries -->
<script src="lib/webgl-utils.js"></script>
<script src="lib/webgl-debug.js"></script>
<script src="lib/cuon-utils.js"></script>
<script src="lib/cuon-matrix-cse160.js"></script>
<script src="Circle.js"></script>
<script src="Triangle.js"></script>
<script src="Point.js"></script>
<script src="Cube.js"></script>
<script src="Sphere.js"></script>
<script src="Camera.js"></script>
<script src="World.js"></script>

<script>
let isFullscreen = false;

function toggleFullscreen() {
    const container = document.getElementById("gameContainer");

    isFullscreen = !isFullscreen;

    if (isFullscreen) {
        container.classList.remove("windowed");
        container.classList.add("fullscreen");
    } else {
        container.classList.remove("fullscreen");
        container.classList.add("windowed");
    }

    resizeCanvas();
}

function resizeCanvas() {
    const canvas = document.getElementById("webgl");
    const container = document.getElementById("gameContainer");

    // Resize main canvas resolution
    canvas.width = container.clientWidth;
    canvas.height = container.clientHeight;

    if (window.gl) {
        gl.viewport(0, 0, canvas.width, canvas.height);
    }

    // Resize minimap resolution
    const minimap = document.getElementById("minimap");
    minimap.width = minimap.clientWidth;
    minimap.height = minimap.clientHeight;
}

window.addEventListener("resize", resizeCanvas);
</script>

</body>
</html>
